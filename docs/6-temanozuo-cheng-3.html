<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="http://localhost:8200/theme/css/main.css" />
    <title>pelican-lessons-log - 6 テーマの作成(3)</title>
  </head>
  <body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="http://localhost:8200"
        >pelican-lessons-log</a
      >
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a
              class="nav-link"
              href="http://localhost:8200/pages/lian-luo-xian.html"
              >連絡先</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="http://localhost:8200/category/diary.html"
              >diary</a
            >
          </li>
          <li class="nav-item active">
            <a
              class="nav-link"
              href="http://localhost:8200/category/lesson.html"
              >Lesson</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
          <ul class="navbar-nav">
            <h3>Lesson</h3>
            <li class="nav-item">
              <a class="nav-link" href="http://localhost:8200/hazimeni.html"
                >はじめに</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/1-my-first-article.html"
                >1 My First Article</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/2-jing-de-pezitorinku.html"
                >2 静的ページとリンク</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/3-temanoshe-ding.html"
                >3 テーマの設定</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/4-temanozuo-cheng-1.html"
                >4 テーマの作成(1)</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/5-temanozuo-cheng-2.html"
                >5 テーマの作成(2)</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/6-temanozuo-cheng-3.html"
                >6 テーマの作成(3)</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/7-puraguinnozuo-cheng.html"
                >7 プラグインの作成</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="http://localhost:8200/8-githubpageshedepuroisuru.html"
                >8 GitHubPagesへデプロイする</a
              >
            </li>
          </ul>
        </nav>
        <!-- Main Content -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
          <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
          >
            <section class="body" id="content">
              <header>
                <h2 class="entry-title display-5">
                  <a
                    href="http://localhost:8200/6-temanozuo-cheng-3.html"
                    rel="bookmark"
                    title="Permalink to 6 テーマの作成(3)"
                    >6 テーマの作成(3)</a
                  >
                </h2>
              </header>
              <footer class="post-info">
                <time class="published" datetime="2023-09-09T13:26:00+09:00">
                  2023-09-09
                </time>
                <address class="vcard author">
                  By
                  <a
                    class="url fn"
                    href="http://localhost:8200/author/atu4403.html"
                    >atu4403</a
                  >
                </address>
                <div class="category">
                  Category:
                  <a href="http://localhost:8200/category/lesson.html"
                    >Lesson</a
                  >
                </div>
              </footer>
              <!-- /.post-info -->
              <div class="entry-content">
                <p>
                  ここでは実際にテーマを作成する方法を解説します。今回は実際にこのチュートリアルでも使用されているような<code>bootstrap5</code>を使ったテーマを作成します。
                </p>
                <h2>テンプレートを用意する</h2>
                <p>
                  前の項でも解説しましたが、テーマの作成には以下のファイルが必要です。
                </p>
                <pre><span></span>├── static
│   ├── css
│   └── images
└── templates
    ├── archives.html         // to display archives
    ├── article.html          // processed for each article
    ├── author.html           // processed for each author
    ├── authors.html          // must list all the authors
    ├── categories.html       // must list all the categories
    ├── category.html         // processed for each category
    ├── index.html            // the index (list all the articles)
    ├── page.html             // processed for each page
    ├── period_archives.html  // to display time-period archives
    ├── tag.html              // processed for each tag
    └── tags.html             // must list all the tags. Can be a tag cloud.
</pre>

                <p>
                  これを実際に用意するのは大変なので、今回は公式の<code>simple</code>テーマをコピーして修正する方法を取ります。
                  <code>Pelican</code
                  >をインストールした場所に<code>simple</code>テーマが入っています。私の場合は仮想環境にインストールしているので以下の場所にあります。
                </p>
                <p>
                  <code
                    >.venv/lib/python3.11/site-packages/pelican/themes/simple</code
                  >
                </p>
                <p>
                  これをプロジェクトにコピーします。今回は<code>theme</code>というディレクトリを作成し、その中にコピーしました。
                </p>
                <p>
                  <code>theme</code
                  >ディレクトリの直下には<code>templates</code>ディレクトリがあり、その中にテンプレートの<code>html</code>ファイルが入っていればOKです。
                </p>
                <h2>テーマのインストール</h2>
                <p>
                  以下のコマンドで<code>theme</code>ディレクトリがインストールできます。<code>-l</code>コマンドでインストールされているテーマが一覧できます。
                </p>
                <div class="highlight">
                  <pre><span></span><code>&gt;<span class="w"> </span>pelican-themes<span class="w"> </span>-i<span class="w"> </span>theme
&gt;<span class="w"> </span>pelican-themes<span class="w"> </span>-l
BT3-Flat
simple
theme
notmyidea
</code></pre>
                </div>

                <p>
                  <code>pelicanconf.py</code
                  >でテーマを指定すると下準備は完了です。
                </p>
                <div class="highlight">
                  <pre><span></span><code><span class="nv">THEME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;theme&quot;</span>
</code></pre>
                </div>

                <h2>テーマの修正</h2>
                <p>
                  用意したテーマを<code>bootstrap5</code>に対応したものに修正します。今回はChatGPTにお願いしました。
                </p>
                <p>
                  ChatGPT plusに加入している方は<code
                    >Advanced Data Analytics(旧Code Interprete)</code
                  >を使うと楽ですが、加入していない方もなんとかなると思います。
                </p>
                <h3>ChatGPT plusの場合</h3>
                <p>
                  ChatGPTで<code>dvanced Data Analytics</code
                  >を選択し、<code>base.html</code>をアップロードして以下のようなプロンプトを入力します。
                </p>
                <div class="highlight">
                  <pre><span></span><code>これはPelicanのThemeテンプレートです。bootstrap5にフィットするように書き換えてください。
以下のCDNを使用してください。

CSS<span class="w"> </span>https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css
JS<span class="w">  </span>https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js

以下の条件を考慮してください
-<span class="w"> </span>ヘッダーバー
-<span class="w"> </span>サイドバー
-<span class="w"> </span>レスポンシブデザイン<span class="o">(</span>PC,スマートフォンに対応<span class="o">)</span>
-<span class="w"> </span>ヘッダーやサイドバーの内容は簡単なもので構いません。

完成したものをダウンロードできるようにしてください。
</code></pre>
                </div>

                <p>
                  ダウンロードしたものを<code>base.html</code>と差し替えると完成です。他のファイルも同じようにすると終了です。
                </p>
                <h3>ChatGPT plusが使えない場合</h3>
                <p>以下のようなプロンプトにより修正ができます。</p>
                <div class="highlight">
                  <pre><span></span><code><span class="o">[</span>ここにbase.htmlの内容をコピーする<span class="o">]</span>

これはPelicanのThemeテンプレートです。bootstrap5にフィットするように書き換えてください。
以下のCDNを使用してください。

CSS<span class="w"> </span>https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css
JS<span class="w">  </span>https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js

以下の条件を考慮してください
-<span class="w"> </span>ヘッダーバー
-<span class="w"> </span>サイドバー
-<span class="w"> </span>レスポンシブデザイン<span class="o">(</span>PC,スマートフォンに対応<span class="o">)</span>
-<span class="w"> </span>ヘッダーやサイドバーの内容は簡単なもので構いません。

完成したものをコピーできるようにしてください。
</code></pre>
                </div>

                <p>
                  ただし、修正したコードの量により省略されてしまうので、分割する必要があります。　　
                  他のファイルも同じようにすると終了です。
                </p>
                <h3>CSSファイルの追加</h3>
                <p>
                  bootstrap5によりCSSは追加されていますが、独自のCSSを反映したい場合には以下を参考にしてください。
                </p>
                <p>
                  まず<code>base.html</code>を修正します。　　
                  <code>bootstrap.min.css</code
                  >を指定したlinkタグが作成済だと思いますので、その後に追加します。
                </p>
                <div class="highlight">
                  <pre><span></span><code><span class="w">    </span><span class="o">&lt;</span><span class="n">link</span>
<span class="w">      </span><span class="n">href</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css&quot;</span>
<span class="w">      </span><span class="n">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span>
<span class="w">    </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">link</span>
<span class="w">      </span><span class="n">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/{{ CSS_FILE }}&quot;</span>
<span class="w">      </span><span class="n">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span>
<span class="w">    </span><span class="o">/&gt;</span>
</code></pre>
                </div>

                <p>
                  これにより環境に応じたパスにレンダリングされます。<br />
                  <code>CSS_FILE</code
                  >はデフォルトで<code>main.css</code>となっていますが、<code>pelicanconf.py</code>で変更できます。
                </p>
                <p>次に<code>theme/static/css/main.css</code>を作成します。</p>
                <div class="highlight">
                  <pre><span></span><code><span class="nd">@import</span> <span class="n">url</span><span class="p">(</span><span class="s1">&#39;https://fonts.googleapis.com/css2?family=M+PLUS+1+Code:wght@300&amp;family=Noto+Sans+JP:wght@300&amp;display=swap&#39;</span><span class="p">);</span>
<span class="n">body</span> <span class="p">{</span>
  <span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span> <span class="s1">&#39;Noto Sans JP&#39;</span><span class="p">,</span> <span class="n">sans</span><span class="o">-</span><span class="n">serif</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">code</span><span class="p">{</span>
  <span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span> <span class="s1">&#39;M PLUS 1 Code&#39;</span><span class="p">,</span> <span class="n">monospace</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">pre</span><span class="p">{</span>
  <span class="n">padding</span><span class="p">:</span><span class="mi">1</span><span class="n">em</span><span class="p">;</span> <span class="o">/*</span><span class="n">内側の余白</span><span class="o">*/</span>
  <span class="n">margin</span><span class="p">:</span><span class="mf">001.5</span><span class="n">em</span><span class="p">;</span> <span class="o">/*</span><span class="n">外側の余白</span><span class="o">*/</span>
  <span class="n">border</span><span class="p">:</span><span class="n">solid1px</span><span class="c1">#eaedf2; /*枠線*/</span>
  <span class="n">background</span><span class="p">:</span><span class="c1">#f3f6fc; /*背景色*/</span>
  <span class="n">color</span><span class="p">:</span><span class="c1">#54687c; /*文字色*/</span>
<span class="p">}</span>
</code></pre>
                </div>

                <p>以上で追加したCSSが反映されます。</p>
              </div>
              <!-- /.entry-content -->
              <ul></ul>
            </section>
          </div>
        </main>
      </div>
    </div>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
